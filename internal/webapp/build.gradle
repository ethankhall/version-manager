apply plugin: 'java'
apply plugin: 'groovy'
apply plugin: 'kotlin'
apply plugin: 'io.ehdev.gradle.development'
apply from: "$rootDir/gradle/publishing-private.gradle"

publish.dependsOn assemble

io.ehdev.gradle.internal.AddTestSourceSets.addSourceSet(project, 'apiDocsTest')

configurations {
    apiDocsTestCompile.extendsFrom(integTestCompile)
}

dependencies {
    compile project(":api:rest-model")
    compile project(":internal:business-logic")
    compile project(":internal:version-bumper")
    compile project(":database:database-v2")
    compile project(":database:database-jooq")
    compile project(":database:database-migration")
    compile project(":internal:endpoints")
    compile project(":internal:shared-config")
    compile project(":internal:shared-model")
    compile project(':internal:auth')
    compile deps.libraries.kotlin

    //Spring
    compile deps.libraries.spring

    //database
    compile deps.libraries.database

    //Misc
    compile deps.libraries.logging
    compile 'com.google.code.findbugs:jsr305:3.0.1'

    testCompile deps.libraries.testingLibraries
    testCompile deps.libraries.springTest

    integTestCompile group: 'org.apache.httpcomponents', name: 'fluent-hc', version: '4.5.2'
}
