apply plugin: 'java'
apply plugin: 'groovy'
apply plugin: 'local-dev'

sourceSets {
    main {
        java {
            srcDir 'src/main/generated-java'
        }
    }
}

configurations {
    codegen
    compile.extendsFrom codegen
}

dependencies {
    codegen 'org.postgresql:postgresql:9.4.1207.jre7'
    codegen 'org.jooq:jooq:3.8.0'
    codegen 'org.jooq:jooq-meta:3.8.0'
    codegen 'org.jooq:jooq-codegen:3.8.0'

    //project deps
    compile project(":api:rest-model")

    //Web App
    compile libraries.servletApi
    compile libraries.springBoot

    //Security
    compile libraries.springSecurity
    compile libraries.jwt
    compile libraries.pac4j

    // Hibernate
    compile 'org.hibernate:hibernate-validator:5.2.1.Final'

    // database/jpa/other
    compile libraries.springTx
    compile 'javax.transaction:javax.transaction-api:1.2'

    // database
    compile libraries.hikari
    compile 'org.postgresql:postgresql:9.4-1203-jdbc42'
    compile 'org.flywaydb:flyway-core:3.2.1'

    //Utils
    compile libraries.commonsIO
    compile libraries.commonsLang
    compile 'org.bouncycastle:bcprov-jdk15on:1.54'

    //Testing
    testCompile libraries.groovy
    testCompile libraries.spock
    testCompile libraries.spockSpring

    testCompile libraries.springTest
    testCompile libraries.jsonPath

    testCompile libraries.testing
}
