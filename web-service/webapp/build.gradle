apply plugin: 'java'
apply plugin: 'groovy'
apply plugin: 'kotlin'
apply plugin: 'local-dev'
apply plugin: 'spring-boot'
apply from: "$rootDir/gradle/publishing-private.gradle"

publish.dependsOn assemble

springBoot {
    executable = true
}

bootRun {
    addResources = true
}

dependencies {
    compile project(":api:business-logic")
    compile project(":api:rest-model")
    compile project(":api:version-bumper")
    compile project(":database:database-v2")
    compile project(":database:database-jooq")
    compile project(":database:database-migration")
    compile project(":web-service:api-project")
    compile project(":shared-config")
    compile project(":shared-model")
    compile project(':auth:authentication')
    compile project(':auth:authorization')
    compile libraries.kotlin

//    compile 'org.springframework.boot:spring-boot-devtools'

    //Spring
    compile libraries.springBoot
    compile 'org.springframework.boot:spring-boot-starter-actuator'

    //database
    compile libraries.database

    //Misc
    compile libraries.logging
    compile libraries.thymeleaf
    compile 'com.google.code.findbugs:jsr305:3.0.1'
    compile libraries.dropwizard

    testCompile libraries.testingLibraries
    testCompile libraries.springTest

    integTestCompile group: 'org.apache.httpcomponents', name: 'fluent-hc', version: '4.5.2'
    integTestCompile libraries.springBoot
    integTestCompile libraries.springBootTest
    integTestCompile libraries.springSecurityTest
}
