buildscript {
    ext {
        springBootVersion = '1.4.0.M1'
    }
    repositories {
        mavenCentral()
        maven {
            url 'http://repo.spring.io/milestone'
        }
        maven {
            url 'https://repo.spring.io/libs-milestone'
        }
    }
    dependencies {
        classpath("org.springframework.boot:spring-boot-gradle-plugin:${springBootVersion}")
    }
}

apply plugin: 'java'
apply plugin: 'groovy'
apply plugin: 'local-dev'
apply plugin: 'spring-boot'
apply from: "$rootDir/gradle/publishing.gradle"

publish.dependsOn assemble

dependencies {
    compile project(":api:rest-model")
    compile project(":database:database-api")
    compile project(":database:database-impl")
    compile project(":web-service:version-management")
    compile project(":web-service:api-project")
    compile project(":auth:authentication:default")
    compile project(":auth:authentication:core")

    //Caching
    compile libraries.springContextSupport
    compile 'net.sf.ehcache:ehcache:2.8.3'

    //Spring
    compile libraries.springBootWebapp

    //Misc
    compile 'ch.qos.logback:logback-classic:1.1.3'
    compile 'com.google.code.findbugs:jsr305:3.0.1'
    compile libraries.dropwizard

    testCompile project(":test-utils")
    testCompile libraries.groovy
    testCompile libraries.spock
    testCompile libraries.spockSpring

    testCompile libraries.springTest
    testCompile libraries.jsonPath

    testCompile libraries.testing
    integTestCompile libraries.springBoot
    integTestCompile libraries.springBootTest
}
